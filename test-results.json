{"numFailedTestSuites":3,"numFailedTests":9,"numPassedTestSuites":3,"numPassedTests":64,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":2,"numTodoTests":0,"numTotalTestSuites":6,"numTotalTests":73,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1763999479074,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Database Layer - Prisma Client Functions","checkUserExists"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions checkUserExists should return true when user exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999480567,"status":"passed","title":"should return true when user exists"},{"ancestorTitles":["Database Layer - Prisma Client Functions","checkUserExists"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions checkUserExists should return false when user does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999480578,"status":"passed","title":"should return false when user does not exist"},{"ancestorTitles":["Database Layer - Prisma Client Functions","checkUserExists"],"duration":94,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions checkUserExists should return false on database error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999480579,"status":"passed","title":"should return false on database error"},{"ancestorTitles":["Database Layer - Prisma Client Functions","getFileLocation"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions getFileLocation should return file location for valid user with available files","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999480674,"status":"passed","title":"should return file location for valid user with available files"},{"ancestorTitles":["Database Layer - Prisma Client Functions","getFileLocation"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions getFileLocation should return specific file when filename is provided","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763999480678,"status":"passed","title":"should return specific file when filename is provided"},{"ancestorTitles":["Database Layer - Prisma Client Functions","getFileLocation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions getFileLocation should return null when no available files found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999480681,"status":"passed","title":"should return null when no available files found"},{"ancestorTitles":["Database Layer - Prisma Client Functions","getFileLocation"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions getFileLocation should throw error on database failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999480682,"status":"passed","title":"should throw error on database failure"},{"ancestorTitles":["Database Layer - Prisma Client Functions","getUserFiles"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions getUserFiles should return all files for a user","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763999480696,"status":"passed","title":"should return all files for a user"},{"ancestorTitles":["Database Layer - Prisma Client Functions","getUserFiles"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions getUserFiles should return empty array when user has no files","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999480698,"status":"passed","title":"should return empty array when user has no files"},{"ancestorTitles":["Database Layer - Prisma Client Functions","getUserFiles"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions getUserFiles should throw error on database failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999480700,"status":"passed","title":"should throw error on database failure"},{"ancestorTitles":["Database Layer - Prisma Client Functions","addFile"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions addFile should add a new file successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999480708,"status":"passed","title":"should add a new file successfully"},{"ancestorTitles":["Database Layer - Prisma Client Functions","addFile"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions addFile should throw error on database failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999480709,"status":"passed","title":"should throw error on database failure"},{"ancestorTitles":["Database Layer - Prisma Client Functions","logAccess"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions logAccess should log retrieval access successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999480714,"status":"passed","title":"should log retrieval access successfully"},{"ancestorTitles":["Database Layer - Prisma Client Functions","logAccess"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions logAccess should log failed access with correct notes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999480719,"status":"passed","title":"should log failed access with correct notes"},{"ancestorTitles":["Database Layer - Prisma Client Functions","logAccess"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions logAccess should map return access type correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999480725,"status":"passed","title":"should map return access type correctly"},{"ancestorTitles":["Database Layer - Prisma Client Functions","logAccess"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions logAccess should throw error on database failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999480728,"status":"passed","title":"should throw error on database failure"},{"ancestorTitles":["Database Layer - Prisma Client Functions","updateFileAccess"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions updateFileAccess should update file status to RETRIEVED","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999480735,"status":"passed","title":"should update file status to RETRIEVED"},{"ancestorTitles":["Database Layer - Prisma Client Functions","updateFileAccess"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database Layer - Prisma Client Functions updateFileAccess should throw error on database failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999480741,"status":"passed","title":"should throw error on database failure"}],"endTime":1763999480753,"message":"","name":"C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\db\\prisma.test.js","startTime":1763999479674,"status":"passed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1763999484629,"message":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    TypeError: Cannot assign to read only property 'getUserFiles' of object '[object Module]'\n\n      \u001b[2mat \u001b[22mnode_modules/.pnpm/jest-mock@30.2.0/node_modules/jest-mock/build/index.js\u001b[2m:622:31\u001b[22m\n","name":"C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\files\\files.test.js","startTime":1763999484629,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1763999484629,"message":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    TypeError: Cannot assign to read only property 'checkUserExists' of object '[object Module]'\n\n      \u001b[2mat \u001b[22mnode_modules/.pnpm/jest-mock@30.2.0/node_modules/jest-mock/build/index.js\u001b[2m:622:31\u001b[22m\n","name":"C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\qr\\qrScan.test.js","startTime":1763999484629,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Authentication API","POST /api/auth/register","Successful Registration"],"duration":122,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/register Successful Registration should register a new user with all fields","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763999481133,"status":"passed","title":"should register a new user with all fields"},{"ancestorTitles":["Authentication API","POST /api/auth/register","Successful Registration"],"duration":70,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/register Successful Registration should register a user with only required fields","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763999481256,"status":"passed","title":"should register a user with only required fields"},{"ancestorTitles":["Authentication API","POST /api/auth/register","Successful Registration"],"duration":143,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/register Successful Registration should hash the password before storing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763999481326,"status":"passed","title":"should hash the password before storing"},{"ancestorTitles":["Authentication API","POST /api/auth/register","Validation Errors"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/register Validation Errors should return 400 when userId is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999481469,"status":"passed","title":"should return 400 when userId is missing"},{"ancestorTitles":["Authentication API","POST /api/auth/register","Validation Errors"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/register Validation Errors should return 400 when password is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999481473,"status":"passed","title":"should return 400 when password is missing"},{"ancestorTitles":["Authentication API","POST /api/auth/register","Validation Errors"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/register Validation Errors should return 400 when name is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999481477,"status":"passed","title":"should return 400 when name is missing"},{"ancestorTitles":["Authentication API","POST /api/auth/register","Validation Errors"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/register Validation Errors should return 400 when all required fields are missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999481480,"status":"passed","title":"should return 400 when all required fields are missing"},{"ancestorTitles":["Authentication API","POST /api/auth/register","Duplicate User Errors"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/register Duplicate User Errors should return 409 when userId already exists","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763999481484,"status":"passed","title":"should return 409 when userId already exists"},{"ancestorTitles":["Authentication API","POST /api/auth/register","Database Errors"],"duration":100,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/register Database Errors should return 500 when database create fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999481488,"status":"passed","title":"should return 500 when database create fails"},{"ancestorTitles":["Authentication API","POST /api/auth/login","Successful Login"],"duration":81,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\auth\\auth.test.js:245:12)\n----\n    at Test._assertStatus (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"fullName":"Authentication API POST /api/auth/login Successful Login should login with valid credentials","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763999481588,"status":"failed","title":"should login with valid credentials"},{"ancestorTitles":["Authentication API","POST /api/auth/login","Successful Login"],"duration":76,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\auth\\auth.test.js:271:12)\n----\n    at Test._assertStatus (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"fullName":"Authentication API POST /api/auth/login Successful Login should not expose password in response","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763999481669,"status":"failed","title":"should not expose password in response"},{"ancestorTitles":["Authentication API","POST /api/auth/login","Validation Errors"],"duration":8,"failing":false,"failureDetails":[{"matcherResult":{"actual":"Identifier required","expected":"Missing credentials","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Missing credentials\"\u001b[39m\nReceived: \u001b[31m\"Identifier required\"\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Missing credentials\"\u001b[39m\nReceived: \u001b[31m\"Identifier required\"\u001b[39m\n    at Object.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\auth\\auth.test.js:287:37)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"fullName":"Authentication API POST /api/auth/login Validation Errors should return 400 when userId is missing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763999481745,"status":"failed","title":"should return 400 when userId is missing"},{"ancestorTitles":["Authentication API","POST /api/auth/login","Validation Errors"],"duration":6,"failing":false,"failureDetails":[{"matcherResult":{"actual":"Password required","expected":"Missing credentials","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Missing credentials\"\u001b[39m\nReceived: \u001b[31m\"Password required\"\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Missing credentials\"\u001b[39m\nReceived: \u001b[31m\"Password required\"\u001b[39m\n    at Object.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\auth\\auth.test.js:299:37)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"fullName":"Authentication API POST /api/auth/login Validation Errors should return 400 when password is missing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763999481754,"status":"failed","title":"should return 400 when password is missing"},{"ancestorTitles":["Authentication API","POST /api/auth/login","Validation Errors"],"duration":4,"failing":false,"failureDetails":[{"matcherResult":{"actual":"Password required","expected":"Missing credentials","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Missing credentials\"\u001b[39m\nReceived: \u001b[31m\"Password required\"\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Missing credentials\"\u001b[39m\nReceived: \u001b[31m\"Password required\"\u001b[39m\n    at Object.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\auth\\auth.test.js:308:37)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"fullName":"Authentication API POST /api/auth/login Validation Errors should return 400 when both fields are missing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763999481760,"status":"failed","title":"should return 400 when both fields are missing"},{"ancestorTitles":["Authentication API","POST /api/auth/login","Authentication Errors"],"duration":12,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\auth\\auth.test.js:322:12)\n    at Promise.finally.completed (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at _runTest (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n    at runTest (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n    at Object.worker (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n----\n    at Test._assertStatus (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"fullName":"Authentication API POST /api/auth/login Authentication Errors should return 401 when user does not exist","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763999481764,"status":"failed","title":"should return 401 when user does not exist"},{"ancestorTitles":["Authentication API","POST /api/auth/login","Authentication Errors"],"duration":75,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\auth\\auth.test.js:341:12)\n----\n    at Test._assertStatus (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"fullName":"Authentication API POST /api/auth/login Authentication Errors should return 401 when password is incorrect","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763999481776,"status":"failed","title":"should return 401 when password is incorrect"},{"ancestorTitles":["Authentication API","POST /api/auth/login","Authentication Errors"],"duration":8,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 401 \"Unauthorized\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\auth\\auth.test.js:356:12)\n    at Promise.finally.completed (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at _runTest (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n    at runTest (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n    at Object.worker (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n----\n    at Test._assertStatus (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"fullName":"Authentication API POST /api/auth/login Authentication Errors should not reveal whether user exists or password is wrong","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763999481851,"status":"failed","title":"should not reveal whether user exists or password is wrong"},{"ancestorTitles":["Authentication API","POST /api/auth/login","Database Errors"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API POST /api/auth/login Database Errors should return 500 when database query fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999481859,"status":"passed","title":"should return 500 when database query fails"},{"ancestorTitles":["Authentication API","GET /api/auth/verify/:userId","Successful Verification"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API GET /api/auth/verify/:userId Successful Verification should verify existing user","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1763999481875,"status":"passed","title":"should verify existing user"},{"ancestorTitles":["Authentication API","GET /api/auth/verify/:userId","Successful Verification"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API GET /api/auth/verify/:userId Successful Verification should not expose password in verification response","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999481881,"status":"passed","title":"should not expose password in verification response"},{"ancestorTitles":["Authentication API","GET /api/auth/verify/:userId","User Not Found"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API GET /api/auth/verify/:userId User Not Found should return 404 when user does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999481885,"status":"passed","title":"should return 404 when user does not exist"},{"ancestorTitles":["Authentication API","GET /api/auth/verify/:userId","Database Errors"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API GET /api/auth/verify/:userId Database Errors should return 500 when database query fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999481888,"status":"passed","title":"should return 500 when database query fails"},{"ancestorTitles":["Authentication API","Integration Tests"],"duration":140,"failing":false,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\auth\\auth.test.js:500:10)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n----\n    at Test._assertStatus (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:309:14)\n    at C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:365:13\n    at Test._assertFunction (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:342:13)\n    at Test.assert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:195:23)\n    at localAssert (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:138:14)\n    at Server.<anonymous> (C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\node_modules\\.pnpm\\supertest@7.1.4\\node_modules\\supertest\\lib\\test.js:152:11)\n    at Object.onceWrapper (node:events:622:28)\n    at Server.emit (node:events:508:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:88:21)"],"fullName":"Authentication API Integration Tests should be able to register and then login","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999481895,"status":"failed","title":"should be able to register and then login"},{"ancestorTitles":["Authentication API","Integration Tests"],"duration":135,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Authentication API Integration Tests should verify user after registration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999482035,"status":"passed","title":"should verify user after registration"}],"endTime":1763999482204,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication API › POST /api/auth/login › Successful Login › should login with valid credentials\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 243 |\u001b[39m             password\u001b[33m:\u001b[39m \u001b[32m'password123'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 244 |\u001b[39m           })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 245 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 246 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 247 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 248 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Login successful'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/auth/auth.test.js\u001b[39m\u001b[0m\u001b[2m:245:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication API › POST /api/auth/login › Successful Login › should not expose password in response\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 269 |\u001b[39m             password\u001b[33m:\u001b[39m \u001b[32m'password123'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 270 |\u001b[39m           })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 271 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 272 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 273 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39muser\u001b[33m.\u001b[39mpassword)\u001b[33m.\u001b[39mtoBeUndefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 274 |\u001b[39m         expect(\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39muser))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'password'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/auth/auth.test.js\u001b[39m\u001b[0m\u001b[2m:271:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication API › POST /api/auth/login › Validation Errors › should return 400 when userId is missing\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"Missing credentials\"\u001b[39m\n    Received: \u001b[31m\"Identifier required\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 285 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 286 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 287 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Missing credentials'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 288 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'userId and password'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 289 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 290 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/auth/auth.test.js\u001b[39m\u001b[0m\u001b[2m:287:37)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication API › POST /api/auth/login › Validation Errors › should return 400 when password is missing\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"Missing credentials\"\u001b[39m\n    Received: \u001b[31m\"Password required\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 297 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 298 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 299 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Missing credentials'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 300 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 301 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 302 |\u001b[39m       test(\u001b[32m'should return 400 when both fields are missing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/auth/auth.test.js\u001b[39m\u001b[0m\u001b[2m:299:37)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication API › POST /api/auth/login › Validation Errors › should return 400 when both fields are missing\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"Missing credentials\"\u001b[39m\n    Received: \u001b[31m\"Password required\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 306 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 307 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 308 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Missing credentials'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 309 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 310 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 311 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/auth/auth.test.js\u001b[39m\u001b[0m\u001b[2m:308:37)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication API › POST /api/auth/login › Authentication Errors › should return 401 when user does not exist\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 320 |\u001b[39m             password\u001b[33m:\u001b[39m \u001b[32m'password123'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 321 |\u001b[39m           })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 322 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 323 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 324 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Invalid credentials'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 325 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'incorrect'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/auth/auth.test.js\u001b[39m\u001b[0m\u001b[2m:322:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication API › POST /api/auth/login › Authentication Errors › should return 401 when password is incorrect\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 339 |\u001b[39m             password\u001b[33m:\u001b[39m \u001b[32m'wrongpassword'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 340 |\u001b[39m           })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 341 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 342 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 343 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Invalid credentials'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 344 |\u001b[39m         expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'incorrect'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/auth/auth.test.js\u001b[39m\u001b[0m\u001b[2m:341:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication API › POST /api/auth/login › Authentication Errors › should not reveal whether user exists or password is wrong\u001b[39m\u001b[22m\n\n    expected 401 \"Unauthorized\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 354 |\u001b[39m             password\u001b[33m:\u001b[39m \u001b[32m'password123'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 355 |\u001b[39m           })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 356 |\u001b[39m           \u001b[33m.\u001b[39mexpect(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 357 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 358 |\u001b[39m         \u001b[36mconst\u001b[39m hashedPassword \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m bcrypt\u001b[33m.\u001b[39mhash(\u001b[32m'correctpassword'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 359 |\u001b[39m         mockPrismaClient\u001b[33m.\u001b[39muser\u001b[33m.\u001b[39mfindUnique\u001b[33m.\u001b[39mmockResolvedValue({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/auth/auth.test.js\u001b[39m\u001b[0m\u001b[2m:356:12)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication API › Integration Tests › should be able to register and then login\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 498 |\u001b[39m           password\u001b[33m:\u001b[39m \u001b[32m'newpass123'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 499 |\u001b[39m         })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 500 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 501 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 502 |\u001b[39m       expect(loginResponse\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 503 |\u001b[39m       expect(loginResponse\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39muser\u001b[33m.\u001b[39muserId)\u001b[33m.\u001b[39mtoBe(\u001b[32m'INTEGRATION001'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/auth/auth.test.js\u001b[39m\u001b[0m\u001b[2m:500:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:309:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:365:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:342:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:195:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat localAssert (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:138:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.<anonymous> (\u001b[22m\u001b[2mnode_modules/.pnpm/supertest@7.1.4/node_modules/supertest/lib/test.js\u001b[2m:152:11)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\auth\\auth.test.js","startTime":1763999479662,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["ESP32Controller","Simulation Mode"],"duration":121,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Simulation Mode should initialize in simulation mode when ESP32 is not connected","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999480498,"status":"passed","title":"should initialize in simulation mode when ESP32 is not connected"},{"ancestorTitles":["ESP32Controller","Simulation Mode"],"duration":1134,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Simulation Mode should simulate unlock in simulation mode","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1763999480621,"status":"passed","title":"should simulate unlock in simulation mode"},{"ancestorTitles":["ESP32Controller","Simulation Mode"],"duration":623,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Simulation Mode should simulate lock in simulation mode","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763999481755,"status":"passed","title":"should simulate lock in simulation mode"},{"ancestorTitles":["ESP32Controller","Simulation Mode"],"duration":111,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Simulation Mode should return disconnected status in simulation mode","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763999482378,"status":"passed","title":"should return disconnected status in simulation mode"},{"ancestorTitles":["ESP32Controller","Connected Mode"],"duration":110,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Connected Mode should initialize as connected when ESP32 responds to health check","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999482490,"status":"passed","title":"should initialize as connected when ESP32 responds to health check"},{"ancestorTitles":["ESP32Controller","Connected Mode"],"duration":111,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Connected Mode should unlock door successfully when connected","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1763999482600,"status":"passed","title":"should unlock door successfully when connected"},{"ancestorTitles":["ESP32Controller","Connected Mode"],"duration":108,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Connected Mode should lock door successfully when connected","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763999482712,"status":"passed","title":"should lock door successfully when connected"},{"ancestorTitles":["ESP32Controller","Connected Mode"],"duration":108,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Connected Mode should get ESP32 status when connected","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763999482820,"status":"passed","title":"should get ESP32 status when connected"},{"ancestorTitles":["ESP32Controller","Error Handling"],"duration":120,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Error Handling should throw error when unlock fails with connection refused","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999482928,"status":"passed","title":"should throw error when unlock fails with connection refused"},{"ancestorTitles":["ESP32Controller","Error Handling"],"duration":118,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Error Handling should throw error when unlock fails with timeout","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999483048,"status":"passed","title":"should throw error when unlock fails with timeout"},{"ancestorTitles":["ESP32Controller","Error Handling"],"duration":107,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Error Handling should throw error when unlock fails with response error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999483166,"status":"passed","title":"should throw error when unlock fails with response error"},{"ancestorTitles":["ESP32Controller","Error Handling"],"duration":107,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Error Handling should mark as disconnected when status check fails","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763999483273,"status":"passed","title":"should mark as disconnected when status check fails"},{"ancestorTitles":["ESP32Controller","Error Handling"],"duration":111,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Error Handling should throw error when lock fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999483381,"status":"passed","title":"should throw error when lock fails"},{"ancestorTitles":["ESP32Controller","Configuration"],"duration":216,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Configuration should update ESP32 IP address","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763999483492,"status":"passed","title":"should update ESP32 IP address"},{"ancestorTitles":["ESP32Controller","Configuration"],"duration":111,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ESP32Controller Configuration should use default port when not specified","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999483708,"status":"passed","title":"should use default port when not specified"}],"endTime":1763999483821,"message":"","name":"C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\door\\esp32Controller.test.js","startTime":1763999479657,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Door Control Endpoints","POST /api/door/unlock"],"duration":1068,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints POST /api/door/unlock should unlock door manually in simulation mode","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1763999481268,"status":"passed","title":"should unlock door manually in simulation mode"},{"ancestorTitles":["Door Control Endpoints","POST /api/door/unlock"],"duration":1015,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints POST /api/door/unlock should log access when userId is provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999482336,"status":"passed","title":"should log access when userId is provided"},{"ancestorTitles":["Door Control Endpoints","POST /api/door/unlock"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints POST /api/door/unlock should return 400 when row is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763999483351,"status":"passed","title":"should return 400 when row is missing"},{"ancestorTitles":["Door Control Endpoints","POST /api/door/unlock"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints POST /api/door/unlock should return 400 when column is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999483355,"status":"passed","title":"should return 400 when column is missing"},{"ancestorTitles":["Door Control Endpoints","POST /api/door/lock"],"duration":522,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints POST /api/door/lock should lock door manually in simulation mode","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763999483358,"status":"passed","title":"should lock door manually in simulation mode"},{"ancestorTitles":["Door Control Endpoints","POST /api/door/lock"],"duration":514,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints POST /api/door/lock should log access when userId is provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999483880,"status":"passed","title":"should log access when userId is provided"},{"ancestorTitles":["Door Control Endpoints","POST /api/door/lock"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints POST /api/door/lock should return 400 when required parameters are missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999484394,"status":"passed","title":"should return 400 when required parameters are missing"},{"ancestorTitles":["Door Control Endpoints","GET /api/door/status"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints GET /api/door/status should return status in simulation mode","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763999484399,"status":"passed","title":"should return status in simulation mode"},{"ancestorTitles":["Door Control Endpoints","POST /api/door/esp32/config"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints POST /api/door/esp32/config should update ESP32 configuration","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763999484403,"status":"passed","title":"should update ESP32 configuration"},{"ancestorTitles":["Door Control Endpoints","POST /api/door/esp32/config"],"duration":19,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints POST /api/door/esp32/config should use default port when not provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763999484416,"status":"passed","title":"should use default port when not provided"},{"ancestorTitles":["Door Control Endpoints","POST /api/door/esp32/config"],"duration":23,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints POST /api/door/esp32/config should return 400 when IP is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999484436,"status":"passed","title":"should return 400 when IP is missing"},{"ancestorTitles":["Door Control Endpoints","GET /api/door/logs"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints GET /api/door/logs should return access logs","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763999484459,"status":"passed","title":"should return access logs"},{"ancestorTitles":["Door Control Endpoints","GET /api/door/logs"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints GET /api/door/logs should return logs with default limit","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999484470,"status":"passed","title":"should return logs with default limit"},{"ancestorTitles":["Door Control Endpoints","GET /api/door/logs"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints GET /api/door/logs should filter logs by userId when provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999484481,"status":"passed","title":"should filter logs by userId when provided"},{"ancestorTitles":["Door Control Endpoints","GET /api/door/logs"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints GET /api/door/logs should use custom limit when provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999484488,"status":"passed","title":"should use custom limit when provided"},{"ancestorTitles":["Door Control Endpoints","GET /api/door/logs"],"duration":21,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Door Control Endpoints GET /api/door/logs should return 500 on database error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763999484494,"status":"passed","title":"should return 500 on database error"}],"endTime":1763999484519,"message":"","name":"C:\\Users\\ZLSH01LT2304005\\Documents\\Repos\\deans-server\\tests\\door\\door.test.js","startTime":1763999479663,"status":"passed","summary":""}],"wasInterrupted":false}
